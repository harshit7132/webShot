<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <title>WebShot</title>
    <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</head>
<body>
     <!-- ========== Start Navbar Section ========== -->
     <header class="section-navbar" id="Home">
        <div class="container">
            <div class="navbar-brand">
                <a href="#">
                    <h1>WebShot</h1>
                </a>
            </div>
            <nav class="navbar">
                <ul style="list-style-type: none;">
                    <li class="nav-items">
                        <a class="nav-link btn btn-primary" id="login-btn" href="{{ url_for('index') }}">Home</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    <!-- ========== End Navbar Section ========== -->

    <!-- History Section -->
     <br>
     <br>

    {% if history %}
    <table class="table table-striped" style="width: 100%; height: 100%; border-collapse: separate; border-spacing: 10px;">
        <thead>
            <tr>
                <th style="padding: 10px; color:  whitesmoke; font-size: 15px;">URL</th>
                <th style="padding: 10px; color:  whitesmoke; font-size: 15px;">Date</th>
                <th style="padding: 10px; color:  whitesmoke; font-size: 15px;">Actions</th>
            </tr>
        </thead>
        
        <tbody>
            {% for item in history[:4] %}
            <tr>
                <td style="padding: 10px; font-size: 15px;"><a href="{{ item.url }}" target="_blank">{{ item.url }}</a></td>
                <td style="padding: 10px; color: whitesmoke; font-size: 15px;">{{ item.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                <td style="padding: 10px; text-align: center;">
                    <form action="{{ url_for('delete_data', doc_id=item.id) }}" method="post" style="display: inline;">
                        <button type="submit" class="btn btn-danger btn-sm" style="background-color: black; color: #fff; border: none;">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div style="display: flex; justify-content: center; align-items: center; height: 80vh; flex-direction: column;">
        <h1 style="text-align: center; font-size: 30pt;">Comming Soon...</h1>
    </div>
    {% endif %}
</div>      

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
